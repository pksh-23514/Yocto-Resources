Running the Yocto Image with Recipe having Static Library along with Empty Package for ARM Architecture on QEMU:
================================================================================================================

1. To execute the 'core-image-minimal' Image Built for 'qemuarm' Architecture on QEMU, the below commands can be provided.
prabhat_kiran@coldstone:~/Documents/Learnings/Yocto_Resources/Poky/poky/build$ runqemu qemuarm core-image-minimal nographic
runqemu - INFO - Running MACHINE=qemuarm bitbake -e ...
runqemu - INFO - Continuing with the following parameters:
KERNEL: [/home/prabhat_kiran/Documents/Learnings/Yocto_Resources/Poky/poky/build/tmp/deploy/images/qemuarm/zImage]
MACHINE: [qemuarm]
FSTYPE: [ext4]
ROOTFS: [/home/prabhat_kiran/Documents/Learnings/Yocto_Resources/Poky/poky/build/tmp/deploy/images/qemuarm/core-image-minimal-qemuarm.ext4]
CONFFILE: [/home/prabhat_kiran/Documents/Learnings/Yocto_Resources/Poky/poky/build/tmp/deploy/images/qemuarm/core-image-minimal-qemuarm.qemuboot.conf]

...

[    0.000000] Booting Linux on physical CPU 0x0
[    0.000000] Linux version 5.15.184-yocto-standard (oe-user@oe-host) (arm-poky-linux-gnueabi-gcc (GCC) 11.5.0, GNU ld (GNU Binutils) 2.38.20220708) ...
[    0.000000] CPU: ARMv7 Processor [412fc0f1] revision 1 (ARMv7), cr=30c5387d
...

Poky (Yocto Project Reference Distro) 4.0.27 qemuarm /dev/ttyAMA0

qemuarm login: root
root@qemuarm:~#

2. The static library should be located in the directory on which it is installed in the Recipe file along with the specified file permissions.
root@qemuarm:~# ls -l /usr/lib/static_lib.a
-rwxr-xr-x    1 root     root          1958 Mar  9  2018 /usr/lib/static_lib.a

3. Although the Header file related Package i.e. '${PN}-dev' is not added in the 'IMAGE_INSTALL' variable of the Image Recipe file, it is still getting added into the Image.
root@qemuarm:~# ls -l /usr/include/static_lib.h
-rw-r--r--    1 root     root            62 Mar  9  2018 /usr/include/static_lib.h

4. There is some dependency of 'hello-static-lib-staticdev' Package on the 'hello-static-lib-dev' Package as per the observations on running the Image on QEMU.
	1) Only the 'hello-static-lib-staticdev' Package is added to the 'IMAGE_INSTALL' variable in the 'core-image-minimal.bb' file.
	2) The 'hello-static-lib-dev' is automatically included into the Image Build without explicitly specifying in the 'IMAGE_INSTALL' variable.
	3) The proof for this observation is the existence of the Header file in the "/usr/include" directory.

5. To exit the QEMU Console, run the below command.
root@qemuarm:~# poweroff

Broadcast message from root@qemuarm (ttyAMA0) (Wed Aug 20 15:04:32 2025):

The system is going down for system halt NOW!
INIT: Switching to runlevel: 0
INIT: Sending processes configured via /etc/inittab the TERM signal
Stopping Dropbear SSH server: stopped /usr/sbin/dropbear (pid 332)
dropbear.
Stopping syslogd/klogd: stopped syslogd (pid 340)
stopped klogd (pid 343)
done
Unmounting remote filesystems...
Deconfiguring network interfaces... ifdown: interface lo not configured
done.
Sending all processes the TERM signal...
Sending all processes the KILL signal...
Deactivating swap...
Unmounting local filesystems...
[  375.735490] EXT4-fs (vda): re-mounted. Opts: (null). Quota mode: disabled.
[  375.954866] reboot: Power down
runqemu - INFO - Cleaning up
runqemu - INFO - Host uptime: 257996.61

Set 'tap0' nonpersistent
prabhat_kiran@coldstone:~/Documents/Learnings/Yocto_Resources/Poky/poky/build$

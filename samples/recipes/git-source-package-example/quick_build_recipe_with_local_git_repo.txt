Quick Build of Recipe for ARM Architecture with Local Git Source:
=================================================================

1. On the Home directory of the Host Machine, create a local Git repository to contain the sources to be Build using a Recipe.
prabhat_kiran@coldstone:~$ mkdir hello-world
prabhat_kiran@coldstone:~$ cd hello-world/
prabhat_kiran@coldstone:~/hello-world$ git init
Initialized empty Git repository in /home/prabhat_kiran/hello-world/.git/

2. Include the C file and the Makefile in the local Git repository.
prabhat_kiran@coldstone:~/hello-world$ vi program.c
---> Add the contents of the C file to be Built using the Recipe.
prabhat_kiran@coldstone:~/hello-world$ vi Makefile
---> Add the contents of the Makefile to Build the C file using the Recipe.

3. Commit these files into the local Git repository.
prabhat_kiran@coldstone:~/hello-world$ git status 
On branch master

No commits yet

Untracked files:
  (use "git add <file>..." to include in what will be committed)
	Makefile
	program.c

nothing added to commit but untracked files present (use "git add" to track)
prabhat_kiran@coldstone:~/hello-world$ git add Makefile 
prabhat_kiran@coldstone:~/hello-world$ git commit -m "Added the Makefile"
[master (root-commit) b5856ef] Added the Makefile
 1 file changed, 11 insertions(+)
 create mode 100644 Makefile
prabhat_kiran@coldstone:~/hello-world$ git add program.c 
prabhat_kiran@coldstone:~/hello-world$ git commit -m "Added the C file"
[master d0b576c] Added the C file
 1 file changed, 7 insertions(+)
 create mode 100644 program.c
prabhat_kiran@coldstone:~/hello-world$ git status 
On branch master
nothing to commit, working tree clean

4. Verify the Git log for the local Git repository.
prabhat_kiran@coldstone:~/hello-world$ git log
commit d0b576c22ce9064c20442785954970c7143f32ed (HEAD -> master)
Author: prabhat_kiran <prabhat_kiran@github.com>
Date:   Fri Sep 12 18:26:51 2025 +0530

    Added the C file

commit b5856efb8210d6f45573b634a3887c481aff27da
Author: prabhat_kiran <prabhat_kiran@github.com>
Date:   Fri Sep 12 18:26:33 2025 +0530

    Added the Makefile

5. For building the Image for ARM Architecture instead of the Intel (x86) Architecture, the changes shall be made to the 'local.conf' file in the 'build/conf' directory.
prabhat_kiran@coldstone:~/Documents/Learnings/Yocto_Resources/Poky/poky/build$ vi conf/local.conf
=> MACHINE ?= "qemuarm"
=> #MACHINE ?= "qemux86-64"

6. The Layer directory should be created for the the BitBake to pick it up during the Build. The 'bitbake-layers' command is used to create and add the compatible Layer.
prabhat_kiran@coldstone:~/Documents/Learnings/Yocto_Resources/Poky/poky/build$ bitbake-layers create-layer ../meta-layer
NOTE: Starting bitbake server...
Add your new layer with 'bitbake-layers add-layer /home/prabhat_kiran/Documents/Learnings/Yocto_Resources/Poky/poky/meta-layer'
prabhat_kiran@coldstone:~/Documents/Learnings/Yocto_Resources/Poky/poky/build$ bitbake-layers add-layer ../meta-layer
NOTE: Starting bitbake server...
prabhat_kiran@coldstone:~/Documents/Learnings/Yocto_Resources/Poky/poky/build$ bitbake-layers show-layers
NOTE: Starting bitbake server...
layer                 path                                      priority
==========================================================================
meta                  /home/prabhat_kiran/Documents/Learnings/Yocto_Resources/Poky/poky/meta   5
meta-poky             /home/prabhat_kiran/Documents/Learnings/Yocto_Resources/Poky/poky/meta-poky  5
meta-yocto-bsp        /home/prabhat_kiran/Documents/Learnings/Yocto_Resources/Poky/poky/meta-yocto-bsp  5
meta-layer            /home/prabhat_kiran/Documents/Learnings/Yocto_Resources/Poky/poky/meta-layer  5

7. The Recipe file must be placed in the Layer structure in such a way that the BitBake is able to pick them up during the Build.
prabhat_kiran@coldstone:~/Documents/Learnings/Yocto_Resources/Poky/poky/build$ cd ../meta-layer/
prabhat_kiran@coldstone:~/Documents/Learnings/Yocto_Resources/Poky/poky/meta-layer$ ls
conf  COPYING.MIT  README  recipes-example
prabhat_kiran@coldstone:~/Documents/Learnings/Yocto_Resources/Poky/poky/meta-layer$ cd recipes-example/

---> It is important to note that the name of the Recipe folder must match with the name of the Recipe file name being used to Build the SW.
prabhat_kiran@coldstone:~/Documents/Learnings/Yocto_Resources/Poky/poky/meta-layer/recipes-example$ mkdir hello-local-git
prabhat_kiran@coldstone:~/Documents/Learnings/Yocto_Resources/Poky/poky/meta-layer/recipes-example$ ls
example  hello-local-git

8. Include the Recipe file in the Recipe folder i.e. 'hello-local-git' for the BitBake to be able to read it during the Build.
prabhat_kiran@coldstone:~/Documents/Learnings/Yocto_Resources/Poky/poky/meta-layer/recipes-example$ cd hello-local-git/
prabhat_kiran@coldstone:~/Documents/Learnings/Yocto_Resources/Poky/poky/meta-layer/recipes-example/hello-local-git$ vi hello-local-git_0.1.bb
prabhat_kiran@coldstone:~/Documents/Learnings/Yocto_Resources/Poky/poky/meta-layer/recipes-example/hello-local-git$ cat hello-local-git_0.1.bb
=> DESCRIPTION = "A sample C-program from a Local Git Repository"
=> LICENSE = "MIT"
=> LIC_FILES_CHKSUM = "file://${COMMON_LICENSE_DIR}/MIT;md5=0835ade698e0bcf8506ecda2f7b4f302"

=> SRC_URI = "git:///home/prabhat_kiran/hello-world;branch=master;protocol=file"
=> SRCREV = "${AUTOREV}"

=> S = "${WORKDIR}/git"

=> do_install() {
=>     install -d ${D}${bindir}
=>     install -m 0755 program ${D}${bindir}
=> }

9. This is the final Layer directory structure which is compatible with the BitBake for the Build.
prabhat_kiran@coldstone:~/Documents/Learnings/Yocto_Resources/Poky/poky/meta-layer/recipes-example/hello-local-git$ cd ..
prabhat_kiran@coldstone:~/Documents/Learnings/Yocto_Resources/Poky/poky/meta-layer/recipes-example$ tree hello-local-git
hello-local-git
└── hello-local-git_0.1.bb

0 directories, 1 file

9. On the Host Machine, run the 'bitbake' command with Target as the Recipe name for a quick Build.
prabhat_kiran@coldstone:~/Documents/Learnings/Yocto_Resources/Poky/poky/build$ bitbake hello-local-git
Loading cache: 100% |##############################################################################################################################################| Time: 0:00:00
Loaded 1778 entries from dependency cache.
Parsing recipes: 100% |############################################################################################################################################| Time: 0:00:00
Parsing of 984 .bb files complete (982 cached, 2 parsed). 1779 targets, 159 skipped, 0 masked, 0 errors.
NOTE: Resolving any missing task queue dependencies

Build Configuration:
BB_VERSION           = "2.0.0"
BUILD_SYS            = "x86_64-linux"
NATIVELSBSTRING      = "universal"
TARGET_SYS           = "arm-poky-linux-gnueabi"
MACHINE              = "qemuarm"
DISTRO               = "poky"
DISTRO_VERSION       = "4.0.27"
TUNE_FEATURES        = "arm vfp cortexa15 neon thumb callconvention-hard"
TARGET_FPU           = "hard"
meta
meta-poky
meta-yocto-bsp
meta-layer           = "my-kirkstone:81e0dc80d72d66b7f15a34c0da7a0a8c58809056"
meta-ti-bsp          = "kirkstone:52018a8d730b2977d7163bf56c398905ef9115ac"
meta-arm
meta-arm-toolchain   = "kirkstone:10c27f061b22af78e17a23cf540b69501afc7160"

Initialising tasks: 100% |#########################################################################################################################################| Time: 0:00:00
Sstate summary: Wanted 0 Local 0 Mirrors 0 Missed 0 Current 162 (0% match, 100% complete)
NOTE: Executing Tasks
NOTE: Tasks Summary: Attempted 667 tasks of which 667 didn't need to be rerun and all succeeded.
NOTE: Writing buildhistory
NOTE: Writing buildhistory took: 2 seconds

10. After the Build is successful, the 'WORKDIR' directory contains all the files and directories generated during the Build.
prabhat_kiran@coldstone:~/Documents/Learnings/Yocto_Resources/Poky/poky/build$ cd tmp/work/cortexa15t2hf-neon-poky-linux-gnueabi/hello-local-git/0.1-r0
prabhat_kiran@coldstone:~/Documents/Learnings/Yocto_Resources/Poky/poky/build/tmp/work/cortexa15t2hf-neon-poky-linux-gnueabi/hello-local-git/0.1-r0$ ls
configure.sstate   deploy-ipks               git                    license-destdir  pkgdata              pseudo                 source-date-epoch
debugsources.list  deploy-rpms               hello-remote-git.spec  package          pkgdata-pdata-input  recipe-sysroot         sysroot-destdir
deploy-debs        deploy-source-date-epoch  image                  packages-split   pkgdata-sysroot      recipe-sysroot-native  temp

11. In the 'git' directory defined by the 'S' variable, the contents of the GitHub repository are checked-out at the latest commit SHA hash value.
prabhat_kiran@coldstone:~/Documents/Learnings/Yocto_Resources/Poky/poky/build/tmp/work/cortexa15t2hf-neon-poky-linux-gnueabi/hello-local-git/0.1-r0$ cd git/
prabhat_kiran@coldstone:~/Documents/Learnings/Yocto_Resources/Poky/poky/build/tmp/work/cortexa15t2hf-neon-poky-linux-gnueabi/hello-local-git/0.1-r0/git$ ls
Makefile  program  program.c
prabhat_kiran@coldstone:~/Documents/Learnings/Yocto_Resources/Poky/poky/build/tmp/work/cortexa15t2hf-neon-poky-linux-gnueabi/hello-local-git/0.1-r0/git$ cat Makefile
=> CFLAGS = -g -Wall -DUSE_SYSCALL

=> TARGET = program

=> all: $(TARGET)

=>	$(TARGET): $(TARGET).c
=>		$(CC) $(CFLAGS) $(LDFLAGS) -o $(TARGET) $(TARGET).c

=>	clean:
=>		rm -f $(TARGET)
prabhat_kiran@coldstone:~/Documents/Learnings/Yocto_Resources/Poky/poky/build/tmp/work/cortexa15t2hf-neon-poky-linux-gnueabi/hello-local-git/0.1-r0/git$ cat program.c
=> #include <stdio.h>

=> int main()
=> {
=>	printf ("Hello World from Local Git Repository!\n");
=>	return 0;
=> }
prabhat_kiran@coldstone:~/Documents/.../Poky/poky/build/tmp/work/cortexa15t2hf-neon-poky-linux-gnueabi/hello-local-git/0.1-r0/git$ git log --pretty=format:"%H"
d0b576c22ce9064c20442785954970c7143f32ed <--- This is the latest commit SHA hash value of the local Git repository.
b5856efb8210d6f45573b634a3887c481aff27da
prabhat_kiran@coldstone:~/Documents/Learnings/Yocto_Resources/Poky/poky/build/tmp/work/cortexa15t2hf-neon-poky-linux-gnueabi/hello-local-git/0.1-r0/git$ git branch
* master

12. The files and directories can be analyzed for getting an understanding of the Recipe Build.
prabhat_kiran@coldstone:~/Documents/Learnings/Yocto_Resources/Poky/poky/build/tmp/work/cortexa15t2hf-neon-poky-linux-gnueabi/hello-local-git/0.1-r0$ tree image
image
└── usr
    └── bin
        └── program

2 directories, 1 file
prabhat_kiran@coldstone:~/Documents/Learnings/Yocto_Resources/Poky/poky/build/tmp/work/cortexa15t2hf-neon-poky-linux-gnueabi/hello-local-git/0.1-r0$ tree package
package
└── usr
    ├── bin
    │	└── program
    └── src
        └── debug
            └── hello-local-git
                └── 0.1-r0
                    └── git
                        └── program.c

7 directories, 2 files
prabhat_kiran@coldstone:~/Documents/Learnings/Yocto_Resources/Poky/poky/build/tmp/work/cortexa15t2hf-neon-poky-linux-gnueabi/hello-local-git/0.1-r0$ tree packages-split
packages-split
├── hello-local-git
│   └── usr
│       └── bin
│           └── program
├── hello-local-git-dbg
│   └── usr
│       └── bin
├── hello-local-git-dev
├── hello-local-git-doc
├── hello-local-git-locale
├── hello-local-git.shlibdeps
├── hello-local-git-src
│   └── usr
│       └── src
│           └── debug
│               └── hello-local-git
│                   └── 0.1-r0
│                       └── git
│                           └── program.c
└── hello-local-git-staticdev

17 directories, 3 files
